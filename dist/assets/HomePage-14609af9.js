import{_ as G,r as l,o as J,g as u,a as K,c as C,b as e,w as k,v as b,F as D,d as N,t as p,e as x}from"./main-83aea059.js";const Q={class:"home-container"},Z={class:"title"},tt={class:"candles"},et={class:"message"},ot={class:"age-counter"},at={class:"countdown"},nt={class:"balloons"},st={__name:"HomePage",setup(lt){const f=l(null),y=l(null),P=l(!1),v=l(!1),E=l(null),R=l(0),S=l(0),B=l(0),F=l(0);let g=null,d=null,h=[],_=null;class T{constructor(t,o){this.x=Math.random()*t,this.y=Math.random()*-o,this.size=6+Math.random()*10,this.color=Math.random()>.5?getComputedStyle(document.documentElement).getPropertyValue("--primary-color"):getComputedStyle(document.documentElement).getPropertyValue("--secondary-color"),this.rotation=Math.random()*Math.PI,this.speedY=1+Math.random()*3,this.speedX=-1+Math.random()*2}update(){this.x+=this.speedX,this.y+=this.speedY,this.rotation+=.02}draw(t){t.save(),t.translate(this.x,this.y),t.rotate(this.rotation),t.fillStyle=this.color,t.fillRect(-this.size/2,-this.size/2,this.size,this.size),t.restore()}}const $=a=>{if(!a)return;const t=window.devicePixelRatio||1,o=a.clientWidth,r=a.clientHeight;a.width=o*t,a.height=r*t,d=a.getContext("2d"),d.scale(t,t),h=[];for(let n=0;n<80;n++)h.push(new T(o,r));const c=()=>{d.clearRect(0,0,o,r),h.forEach(n=>{n.update(),n.draw(d),n.y>r+20&&(n.x=Math.random()*o,n.y=-10-Math.random()*100)}),_=requestAnimationFrame(c)};c()},V=()=>{_&&cancelAnimationFrame(_),h=[],d=null},A=()=>{const o=new Date("2025-10-30")-new Date;o>0&&(R.value=Math.floor(o/(1e3*60*60*24)),S.value=Math.floor(o%(1e3*60*60*24)/(1e3*60*60)),B.value=Math.floor(o%(1e3*60*60)/(1e3*60)),F.value=Math.floor(o%(1e3*60)/1e3))};J(()=>{g=setInterval(A,1e3),A(),u.from(f.value,{scale:0,opacity:0,duration:1,ease:"back.out(1.7)",onComplete:()=>{P.value=!0,W()}}),$(E.value),setTimeout(()=>{H()},700)}),K(()=>{g&&clearInterval(g),V()});const W=()=>{u.from(y.value,{y:100,opacity:0,duration:1,ease:"elastic.out(1, 0.5)",onComplete:()=>{v.value=!0,X()}})},X=()=>{u.utils.toArray(".balloon").forEach((a,t)=>{u.to(a,{y:-20,duration:1,repeat:-1,yoyo:!0,delay:t*.2,ease:"power1.inOut"})})},H=(a={})=>{const t=f.value,o=y.value;if(!t||!o)return;const r=t.getBoundingClientRect(),c=o.getBoundingClientRect(),n=c.left-r.left+c.width/2,Y=c.top-r.top+Math.max(6,c.height*.18),M=[],w=window.innerWidth<=480,L=a.count||(w?10:14);for(let i=0;i<L;i++){const s=document.createElement("div");s.className="petal";const m=310+Math.floor(Math.random()*60);s.style.background=`radial-gradient(circle at 30% 30%, rgba(255,255,255,0.9), rgba(255,255,255,0.0)), linear-gradient(180deg, hsl(${m} 80% 64%), hsl(${m} 70% 50%))`,s.style.left=`${n}px`,s.style.top=`${Y}px`,t.appendChild(s),M.push(s)}M.forEach((i,s)=>{const m=Math.random(),z=Math.PI*2*s/M.length+(Math.random()-.5)*.6,I=(w?60:110)+Math.random()*(w?80:170),q=Math.cos(z)*I,O=Math.sin(z)*I-(20+Math.random()*30),U=(Math.random()-.5)*720,j=.9+Math.random()*.8;u.fromTo(i,{x:0,y:0,opacity:1,scale:.28+m*.3,rotation:Math.random()*90-45},{x:q,y:O,rotation:U,scale:.9+Math.random()*.5,opacity:0,ease:"power3.out",duration:j,delay:s*.03,onComplete:()=>{i&&i.parentNode&&i.parentNode.removeChild(i)}})})};return window.playHomeFlower=H,(a,t)=>(x(),C("div",Q,[e("canvas",{class:"confetti-canvas",ref_key:"confettiCanvas",ref:E},null,512),e("div",{class:"birthday-card",ref_key:"card",ref:f},[k(e("h1",Z,"尧亚敏，生日快乐！",512),[[b,P.value]]),e("div",{class:"cake",ref_key:"cake",ref:y},[e("div",tt,[(x(),C(D,null,N(3,o=>e("div",{class:"candle",key:o})),64))]),t[0]||(t[0]=e("div",{class:"cake-layers"},null,-1))],512),k(e("div",et,[t[2]||(t[2]=e("p",{class:"dear"},"心爱的哈基尧：",-1)),t[3]||(t[3]=e("p",null,"在这特别的日子里",-1)),t[4]||(t[4]=e("p",null,"愿你的生日充满欢乐和温馨",-1)),t[5]||(t[5]=e("p",null,"愿你所求皆如愿，所行化坦途",-1)),t[6]||(t[6]=e("p",null,"所爱皆可得，所期皆可待",-1)),k(e("div",ot,[t[1]||(t[1]=e("p",null,"距离生日还有：",-1)),e("div",at,[e("span",null,p(R.value)+"天",1),e("span",null,p(S.value)+"时",1),e("span",null,p(B.value)+"分",1),e("span",null,p(F.value)+"秒",1)])],512),[[b,v.value]])],512),[[b,v.value]]),e("div",nt,[(x(),C(D,null,N(5,o=>e("div",{class:"balloon",key:o})),64))])],512)]))}},ct=G(st,[["__scopeId","data-v-30d493c9"]]);export{ct as default};
